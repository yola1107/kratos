# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.3
info:
    title: Ludo API
    description: The ludo service definition.
    version: 0.0.1
paths:
    /ludo/OnChatOrFaceReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnChatReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.ChatReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.ChatRsp'
    /ludo/OnDiceReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnDiceReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.DiceReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.DiceRsp'
    /ludo/OnForwardReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnForwardReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.ForwardReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.ForwardRsp'
    /ludo/OnHostingReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnHostingReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.HostingReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.HostingRsp'
    /ludo/OnLoginReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnLoginReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.LoginReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.LoginRsp'
    /ludo/OnLogoutReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnLogoutReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.LogoutReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.LogoutRsp'
    /ludo/OnMoveReq:
        post:
            tags:
                - Ludo
            description: game request
            operationId: Ludo_OnMoveReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.MoveReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.MoveRsp'
    /ludo/OnReadyReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnReadyReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.ReadyReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.ReadyRsp'
    /ludo/OnSceneReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnSceneReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.SceneReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.SceneRsp'
    /ludo/OnSwitchTableReq:
        post:
            tags:
                - Ludo
            operationId: Ludo_OnSwitchTableReq
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ludo.v1.SwitchTableReq'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.SwitchTableRsp'
    /ludo/{name}:
        get:
            tags:
                - Ludo
            description: Sends a greeting
            operationId: Ludo_SayHelloReq
            parameters:
                - name: name
                  in: path
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ludo.v1.HelloReply'
components:
    schemas:
        ludo.v1.BoardConfig:
            type: object
            properties:
                common:
                    type: array
                    items:
                        type: integer
                        format: int32
                home:
                    type: array
                    items:
                        type: integer
                        format: int32
                entry:
                    type: array
                    items:
                        type: integer
                        format: int32
                safe:
                    type: array
                    items:
                        type: integer
                        format: int32
                end:
                    type: array
                    items:
                        type: integer
                        format: int32
                color:
                    type: array
                    items:
                        type: integer
                        format: int32
            description: 棋盘配置，描述棋盘的基础布局信息
        ludo.v1.ChatReq:
            type: object
            properties:
                userID:
                    type: integer
                    format: int32
                opType:
                    type: integer
                    format: int32
                faceID:
                    type: integer
                    format: int32
                msg:
                    type: string
            description: 聊天请求
        ludo.v1.ChatRsp:
            type: object
            properties:
                userID:
                    type: integer
                    format: int32
                opType:
                    type: integer
                    format: int32
                faceID:
                    type: integer
                    format: int32
                msg:
                    type: string
            description: 聊天响应
        ludo.v1.Dice:
            type: object
            properties:
                value:
                    type: integer
                    format: int32
                used:
                    type: boolean
            description: 骰子信息，表示骰子的点数及是否已被使用
        ludo.v1.DiceMove:
            type: object
            properties:
                playerId:
                    type: string
                pieceId:
                    type: integer
                    format: int32
                from:
                    type: integer
                    format: int32
                to:
                    type: integer
                    format: int32
            description: 单次棋子移动的详细信息
        ludo.v1.DiceReq:
            type: object
            properties:
                uid:
                    type: string
            description: 请求掷骰色子
        ludo.v1.DiceRsp:
            type: object
            properties:
                code:
                    type: integer
                    format: int32
                msg:
                    type: string
                uid:
                    type: string
                dice:
                    type: integer
                    format: int32
                diceList:
                    type: array
                    items:
                        $ref: '#/components/schemas/ludo.v1.Dice'
        ludo.v1.ForwardReq:
            type: object
            properties:
                type:
                    type: integer
                    format: int32
                msg:
                    type: string
            description: 自定义转发请求
        ludo.v1.ForwardRsp:
            type: object
            properties:
                type:
                    type: integer
                    format: int32
                msg:
                    type: string
            description: 自定义转发响应
        ludo.v1.HelloReply:
            type: object
            properties:
                message:
                    type: string
            description: Hello 测试接口响应
        ludo.v1.HostingReq:
            type: object
            properties:
                isHosting:
                    type: boolean
            description: 托管请求
        ludo.v1.HostingRsp:
            type: object
            properties:
                chairID:
                    type: integer
                    format: int32
                status:
                    type: integer
                    format: int32
                aiNum:
                    type: integer
                    format: int32
                playTimes:
                    type: integer
                    format: int32
            description: 托管响应
        ludo.v1.LoginReq:
            type: object
            properties:
                userID:
                    type: string
                token:
                    type: string
                type:
                    type: integer
                    format: int32
                tableID:
                    type: integer
                    format: int32
                chairID:
                    type: integer
                    format: int32
            description: 登录请求
        ludo.v1.LoginRsp:
            type: object
            properties:
                code:
                    type: integer
                    format: int32
                msg:
                    type: string
                userID:
                    type: string
                tableID:
                    type: integer
                    format: int32
                chairID:
                    type: integer
                    format: int32
                arenaID:
                    type: integer
                    format: int32
            description: 登录响应
        ludo.v1.LogoutReq:
            type: object
            properties:
                userDBID:
                    type: string
            description: 登出请求
        ludo.v1.LogoutRsp:
            type: object
            properties:
                code:
                    type: integer
                    format: int32
                msg:
                    type: string
                UserID:
                    type: string
            description: 登出响应
        ludo.v1.MoveReq:
            type: object
            properties:
                userId:
                    type: string
                pieceId:
                    type: integer
                    format: int32
                diceValue:
                    type: integer
                    format: int32
            description: 玩家行动请求，玩家指定移动哪个棋子及用哪个骰子点数
        ludo.v1.MoveRsp:
            type: object
            properties:
                code:
                    type: string
                msg:
                    type: string
                diceValue:
                    type: integer
                    format: int32
                move:
                    $ref: '#/components/schemas/ludo.v1.DiceMove'
                killed:
                    type: array
                    items:
                        $ref: '#/components/schemas/ludo.v1.DiceMove'
                pieces:
                    type: array
                    items:
                        $ref: '#/components/schemas/ludo.v1.Piece'
            description: 玩家行动响应，包含移动结果和更新的棋盘状态
        ludo.v1.Piece:
            type: object
            properties:
                id:
                    type: integer
                    format: int32
                pos:
                    type: integer
                    format: int32
                color:
                    type: integer
                    format: int32
                status:
                    type: integer
                    format: int32
            description: 单个棋子的状态
        ludo.v1.PlayerInfo:
            type: object
            properties:
                userId:
                    type: string
                chairId:
                    type: integer
                    format: int32
                status:
                    type: integer
                    format: int32
                hosting:
                    type: boolean
                offline:
                    type: boolean
                color:
                    type: integer
                    format: int32
                diceList:
                    type: array
                    items:
                        $ref: '#/components/schemas/ludo.v1.Dice'
                canAction:
                    type: integer
                    format: enum
            description: 玩家信息，描述单个玩家的状态及操作能力
        ludo.v1.ReadyReq:
            type: object
            properties:
                userID:
                    type: string
                isReady:
                    type: boolean
            description: 准备请求
        ludo.v1.ReadyRsp:
            type: object
            properties:
                userID:
                    type: string
                isReady:
                    type: boolean
            description: 准备响应
        ludo.v1.SceneReq:
            type: object
            properties:
                userID:
                    type: string
            description: 场景请求，客户端请求当前游戏全局状态
        ludo.v1.SceneRsp:
            type: object
            properties:
                baseScore:
                    type: number
                    format: double
                stage:
                    type: integer
                    format: int32
                timeout:
                    type: string
                active:
                    type: integer
                    format: int32
                firstChair:
                    type: integer
                    format: int32
                boardConfig:
                    $ref: '#/components/schemas/ludo.v1.BoardConfig'
                players:
                    type: array
                    items:
                        $ref: '#/components/schemas/ludo.v1.PlayerInfo'
                pieces:
                    type: array
                    items:
                        $ref: '#/components/schemas/ludo.v1.Piece'
            description: 场景响应，返回游戏当前整体状态
        ludo.v1.SwitchTableReq:
            type: object
            properties:
                userID:
                    type: string
                chairID:
                    type: integer
                    format: int32
            description: 换桌请求
        ludo.v1.SwitchTableRsp:
            type: object
            properties:
                code:
                    type: integer
                    format: int32
                msg:
                    type: string
                userID:
                    type: string
            description: 换桌响应
tags:
    - name: Ludo
